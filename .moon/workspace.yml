# https://moonrepo.dev/docs/config/workspace
$schema: 'https://moonrepo.dev/schemas/workspace.json'

projects:
  root: '.'
  snakeLib: 'snake-lib'

vcs:
  manager: 'git'
  provider: 'github'
  defaultBranch: 'main'

  hooks:
    pre-commit:
      - 'uv run pre-commit run'
    commit-msg:
      - 'echo --% >/dev/null;: '' | out-null'
      - 'uv run pre-commit run --hook-stage commit-msg --commit-msg-filename $1'
      - '<#'''
      - '# unix-like shells'
      - 'exit $? #>'
      - '# powershell'
      - 'uv run pre-commit run --hook-stage commit-msg --commit-msg-filename $args[1]'

  syncHooks: true
